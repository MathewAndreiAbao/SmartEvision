import{d as K,s as f,a as c,b as L,f as p}from"./zt7kUNSb.js";import{p as M,h as O,c as l,s as x,r as s,t as b,g as e,i as P,n as Q,a as R}from"./D02y27Ec.js";import{i as S}from"./CyaklKEO.js";import{e as h,i as w}from"./CUJHGDU6.js";import{a as U,b as N}from"./DG2cR9Zm.js";var V=p('<th class="px-2 py-2 text-center text-text-muted font-semibold uppercase tracking-wider min-w-[50px]"> </th>'),W=p('<td class="px-1 py-1 text-center"><button> </button></td>'),X=p('<tr class="hover:bg-white/30 transition-colors"><td class="sticky left-0 z-10 bg-white/90 backdrop-blur px-3 py-2 font-medium text-text-primary truncate max-w-[160px]"> </td><!></tr>'),Y=p('<div class="p-8 text-center text-text-muted">No data available for heatmap</div>'),Z=p('<div class="overflow-x-auto"><table class="w-full text-xs"><thead><tr><th class="sticky left-0 z-10 bg-white/90 backdrop-blur px-3 py-2 text-left text-text-muted font-semibold uppercase tracking-wider min-w-[140px]">Name</th><!></tr></thead><tbody class="divide-y divide-gray-50"></tbody></table></div> <!> <div class="flex items-center gap-4 mt-3 px-3 text-xs text-text-muted"><span class="flex items-center gap-1.5"><span class="w-3 h-3 rounded-sm bg-gov-green/70"></span> ≥80%</span> <span class="flex items-center gap-1.5"><span class="w-3 h-3 rounded-sm bg-gov-gold/60"></span> 50-79%</span> <span class="flex items-center gap-1.5"><span class="w-3 h-3 rounded-sm bg-gov-red/50"></span> &lt;50%</span> <span class="flex items-center gap-1.5"><span class="w-3 h-3 rounded-sm bg-gray-100"></span> No data</span></div>',1);function st(z,n){M(n,!0);function B(t,a){return n.cells.find(r=>r.row===t&&r.week===a)}function D(t){return t>=80?"bg-gov-green/70":t>=50?"bg-gov-gold/60":t>0?"bg-gov-red/50":"bg-gray-100"}function H(t){return t>=80?"text-white":t>=50?"text-gray-800":t>0?"text-white":"text-gray-400"}var _=Z(),v=O(_),y=l(v),g=l(y),k=l(g),T=x(l(k));h(T,17,()=>n.weeks,w,(t,a)=>{var r=V(),i=l(r,!0);s(r),b(()=>f(i,e(a).label)),c(t,r)}),s(k),s(g);var C=x(g);h(C,21,()=>n.rows,w,(t,a)=>{var r=X(),i=l(r),A=l(i,!0);s(i);var E=x(i);h(E,17,()=>n.weeks,w,(F,m)=>{const o=P(()=>B(e(a),e(m).week));var u=W(),d=l(u),G=l(d,!0);s(d),s(u),b((I,J)=>{U(d,1,`w-full py-1.5 px-1 rounded-md transition-all hover:scale-110 ${I??""} ${J??""} font-semibold cursor-pointer`),N(d,"title",e(o)?.tooltip||`${e(a)} — ${e(m).label}: No data`),f(G,e(o)?`${e(o).rate}%`:"—")},[()=>D(e(o)?.rate||0),()=>H(e(o)?.rate||0)]),L("click",d,()=>n.onCellClick?.(e(a),e(m).week)),c(F,u)}),s(r),b(()=>{N(i,"title",e(a)),f(A,e(a))}),c(t,r)}),s(C),s(y),s(v);var j=x(v,2);{var q=t=>{var a=Y();c(t,a)};S(j,t=>{n.rows.length===0&&t(q)})}Q(2),c(z,_),R()}K(["click"]);export{st as C};
